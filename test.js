

const activity = {
  likes: {
    '138351': 1,
    '194289': 1,
    '229607': 1,
    '306511': 1,
    '402356': 1,
    '440146': 1,
    '660671': 1,
    '693177': 1,
    '825953': 1,
    '891936': 1,
    '920987': 1,
    '923178': 1,
    '977400': 1,
    '1040029': 1,
    '1046695': 1,
    '1537012': 1,
    '1568901': 1,
    '1600165': 1,
    '1686925': 1,
    '1709778': 1,
    '1911339': 1,
    '2001224': 3,
    '2172601': 1,
    '2360942': 1,
    '2752346': 1,
    '2987263': 1,
    '3144695': 1,
    '3393899': 1,
    '3412332': 1,
    '3600639': 1,
    '3715573': 1,
    '3880418': 1,
    '4418758': 1,
    '4677942': 1,
    '5092090': 1,
    '5202456': 1,
    '5328265': 1,
    '5422239': 1,
    '5501098': 1,
    '5889286': 1,
    '5911728': 1,
    '6689561': 1,
    '6746378': 1,
    '7038104': 1,
    '7649316': 1,
    '7732510': 1,
    '7798823': 2,
    '7817454': 1,
    '8119598': 1,
    '8537315': 1,
    '8912869': 1,
    '9069051': 1,
    '9808231': 1,
    '9894189': 1,
    '11739095': 1,
    '11747451': 1,
    '12509690': 1,
    '12867979': 1,
    '13270767': 1,
    '13863840': 1,
    '14143407': 1,
    '15767665': 1,
    '16238787': 1,
    '16518308': 1,
    '16675638': 2,
    '16974250': 1,
    '17069060': 1,
    '18286411': 1,
    '19441852': 1,
    '19790631': 1,
    '20136009': 1,
    '20769134': 2,
    '20777063': 1,
    '21624251': 2,
    '22129907': 1,
    '23380830': 1,
    '24228382': 1,
    '24739881': 1,
    '25520511': 1,
    '25559721': 1,
    '25637049': 1,
    '26598117': 1,
    '27146204': 2,
    '28083607': 1,
    '28448849': 1,
    '28524898': 1,
    '28552863': 1,
    '29193421': 1,
    '30679560': 1,
    '34383859': 2,
    '34724246': 1,
    '36359729': 1,
    '36397659': 1,
    '37785691': 1,
    '37863943': 1,
    '38989863': 1,
    '40133006': 1,
    '40878188': 1,
    '41714939': 1,
    '43364236': 1,
    '47258943': 1,
    '47884283': 1,
    '52144754': 1,
    '54256949': 1,
    '54363855': 1,
    '57417041': 1,
    '57915725': 2,
    '58289401': 1,
    '58540433': 1,
    '58761785': 1,
    '59108765': 1,
    '67556027': 1,
    '67887826': 1,
    '68333281': 1,
    '72936551': 1,
    '72965851': 1,
    '75052919': 3,
    '76547875': 1,
    '78318503': 1,
    '79077021': 1,
    '79723581': 1,
    '80325950': 1,
    '82933574': 1,
    '84510374': 1,
    '84815777': 1,
    '86883852': 1,
    '90266659': 1,
    '90514749': 1,
    '92400138': 1,
    '96365810': 1,
    '100204792': 1,
    '101385660': 1,
    '103721986': 1,
    '107791459': 1,
    '109345802': 1,
    '112365129': 1,
    '126379965': 1,
    '130656579': 1,
    '131745967': 1,
    '132082665': 1,
    '132888016': 1,
    '137301567': 1,
    '138138066': 3,
    '141230989': 1,
    '142013335': 1,
    '144057883': 1,
    '144818606': 1,
    '144882337': 1,
    '147712611': 1,
    '148160660': 1,
    '155908295': 1,
    '157151370': 1,
    '157902238': 1,
    '158964862': 1,
    '162537133': 1,
    '162846692': 1,
    '163072034': 1,
    '167540373': 1,
    '170134712': 1,
    '170661529': 1,
    '174495243': 1,
    '174952855': 1,
    '177213420': 1,
    '179193488': 1,
    '180684520': 1,
    '180976675': 1,
    '181667865': 1,
    '182130555': 1,
    '183952157': 1,
    '185744738': 1,
    '187015160': 1,
    '190735040': 1,
    '191528506': 1,
    '192043506': 1,
    '194081775': 1,
    '196618042': 1,
    '196772017': 1,
    '197314101': 1,
    '207384916': 1,
    '212263941': 1,
    '224422740': 1,
    '227381835': 1,
    '227933031': 1,
    '230214234': 1,
    '231620657': 1,
    '236718921': 1,
    '238021276': 1,
    '239852815': 1,
    '255626254': 1,
    '262928033': 1,
    '269170518': 1,
    '270677786': 1,
    '270715660': 1,
    '273926195': 1,
    '277011714': 1,
    '278516429': 1,
    '280436517': 1,
    '289183381': 1,
    '290053075': 1,
    '291610364': 1,
    '294630929': 1,
    '299471171': 1,
    '302396794': 1,
    '311022637': 2,
    '312047527': 2,
    '314333542': 1,
    '321152399': 1,
    '324132985': 3,
    '325175291': 1,
    '329438506': 1,
    '338820210': 1,
    '361619334': 1,
    '366606503': 1,
    '378563124': 1,
    '386138916': 1,
    '392228802': 1,
    '397554463': 2,
    '401492246': 1,
    '404753397': 1,
    '405139689': 1,
    '413613616': 1,
    '420428282': 2,
    '427584791': 1,
    '433586486': 1,
    '436204186': 2,
    '463359863': 1,
    '474044853': 1,
    '498406633': 1,
    '504032370': 1,
    '509502424': 1,
    '562511681': 2,
    '587699299': 1
  },
  comments: {
    '402356': 1,
    '1046695': 1,
    '1686925': 1,
    '2001224': 1,
    '2639535': 1,
    '2752346': 1,
    '11742336': 1,
    '13109873': 1,
    '14575766': 1,
    '15377586': 1,
    '23850555': 1,
    '28524898': 1,
    '34383859': 1,
    '37198964': 1,
    '40138712': 1,
    '56619200': 1,
    '57915725': 1,
    '63239618': 1,
    '95954710': 1,
    '104457963': 1,
    '132910639': 1,
    '141230989': 1,
    '168876563': 1,
    '171572620': 1,
    '181667865': 1,
    '182130555': 1,
    '208403304': 1,
    '237870820': 1,
    '239852815': 1,
    '378132142': 1,
    '386138916': 1,
    '419473632': 1,
    '558068973': 1,
    '-78323378': 2
  },
  reposts: {}
}

const mergedResults = (arr) => {
  const result = {};

  for (const array of arr) {
    for (const [id, count] of Object.entries(array)) {
      if (id in result) {
        result[id] += count;
      } else if (!(id in result)) {
        result[id] = count;
      }
    }
  }
  return result;
}

function convertTransform(activity) {
  const fish = {}

  for (const [category, object] of Object.entries(activity)) {
    for (const id of Object.keys(object)) {
      fish[id] = { id: 0, likes: 0, comments: 0, reposts: 0 };
    }
  }

  for (const [category, data] of Object.entries(activity)) {
    for (const [id, count] of Object.entries(data)) {
      fish[id]['id'] = id
      fish[id][category] += count
    }
  }

  const sortedArray = Object.entries(fish).sort((a, b) => {
    return (b[1].likes + b[1].comments + b[1].reposts) - (a[1].likes + a[1].comments + a[1].reposts)
  })

  const final = [];
  for (const item of sortedArray) {
    final.push(item[1])
  }

  const done = [];
  for (const [index, element] of final.entries()) {
    element['index'] = index + 1
    done.push(element)
  }

  return fone.splice(0, 10);
}

